<h1 *ngIf="board">{{ board?.title }}</h1>
  <p-button
    *ngIf="board"
    icon="pi pi-plus"
    class="btn"
    [label]="'BOARDS.ADD_COLUMN' | translate"
    (click)="showDialog()"
  >
</p-button>
<div class="board-columns">
  <div
    *ngIf="board"
    class="columns"
    cdkDropList
    [cdkDropListData]="columns"
    cdkDropListOrientation="horizontal"
    (cdkDropListDropped)="onDropColumn($event)"
    cdkDropListGroup
  >
    <div class="column"
    *ngFor="let column of columns"
    cdkDrag
    >
      <rsm-board-column
        [column]="column"
        [attr.data-id]="column.id"
        cdkDropList
        [cdkDropListData]="column.tasks"
        (cdkDropListDropped)="onDropTasks($event)"
        [boardId]="board.id"
        (deleteColumn)="deleteColumn(column.id)"
        (deleteTask)="deleteTask($event)"
        (updateTask)="updateTask($event)"
        (addTask)="addTask($event)"
        (changeColumnTitle)="changeColumnTitle($event)"
      ></rsm-board-column>
      <div class="column-placeholder" *cdkDragPlaceholder></div>
    </div>
  </div>
  <div *ngIf="(progressService.dataLoading$ | async) === false && columns.length === 0">
    <p>{{ 'BOARDS.EMPTY' | translate }}</p>
  </div>
  <div class="progress-overlay flex align-items-center justify-content-center" *ngIf="progressService.dataLoading$ | async">
    <p-progressSpinner></p-progressSpinner>
  </div>
</div>
<rsm-create-column-dialog
  [(isDialogVisible)]="isDialogVisible"
  (addColumn)="addColumn($event)"
></rsm-create-column-dialog>
